ifeq ($(PREFIX),)
	PREFIX=/usr/local
endif

all:
	@echo "System-side installation:"
	@echo "    sudo make install"
	@echo ""
	@echo "Alternative: Install in your home directory:"
	@echo "    PREFIX=~/.local make install"
	@echo ""

install:
	install -d "$(PREFIX)/bin"
	install -m 755 ./cbwatch "$(PREFIX)/bin/"
	install -m 755 ./xocrshot "$(PREFIX)/bin/"
	install -m 755 ./esa "$(PREFIX)/bin/"
	install -m 755 ./outonerror "$(PREFIX)/bin/"
	install -m 755 ./autoperm "$(PREFIX)/bin/"
	install -m 755 ./path-lowercase "$(PREFIX)/bin/"
	install -m 755 ./path-tr "$(PREFIX)/bin/"
	install -m 755 ./path-uppercase "$(PREFIX)/bin/"
	install -m 755 ./path-is "$(PREFIX)/bin/"
	install -m 755 ./qparallel "$(PREFIX)/bin/"
	install -m 755 ./walk "$(PREFIX)/bin/"
	install -m 755 ./walk-run "$(PREFIX)/bin/"
	install -m 755 ./sre "$(PREFIX)/bin/"
	install -m 755 ./git-sre "$(PREFIX)/bin/"
	install -m 755 ./git-squash "$(PREFIX)/bin/"
	install -m 755 ./git-dcommit "$(PREFIX)/bin/"
	install -m 755 ./sshwait "$(PREFIX)/bin/"
	install -m 755 ./cbcopy "$(PREFIX)/bin/"
	install -m 755 ./cbpaste "$(PREFIX)/bin/"
	install -m 755 ./tmux-cbpaste "$(PREFIX)/bin/"
	install -m 755 ./tmux-run "$(PREFIX)/bin/"
	install -m 755 ./tmux-session "$(PREFIX)/bin/"
	install -m 755 ./largs "$(PREFIX)/bin/"
	install -m 755 ./xargs-loop "$(PREFIX)/bin/"

uninstall:
	rm "$(PREFIX)/bin/cbwatch"
	rm "$(PREFIX)/bin/xocrshot"
	rm "$(PREFIX)/bin/esa"
	rm "$(PREFIX)/bin/outonerror"
	rm "$(PREFIX)/bin/autoperm"
	rm "$(PREFIX)/bin/path-lowercase"
	rm "$(PREFIX)/bin/path-tr"
	rm "$(PREFIX)/bin/path-uppercase"
	rm "$(PREFIX)/bin/path-is"
	rm "$(PREFIX)/bin/qparallel"
	rm "$(PREFIX)/bin/walk"
	rm "$(PREFIX)/bin/walk-run"
	rm "$(PREFIX)/bin/sre"
	rm "$(PREFIX)/bin/git-sre"
	rm "$(PREFIX)/bin/git-squash"
	rm "$(PREFIX)/bin/git-dcommit"
	rm "$(PREFIX)/bin/sshwait"
	rm "$(PREFIX)/bin/cbcopy"
	rm "$(PREFIX)/bin/cbpaste"
	rm "$(PREFIX)/bin/tmux-cbpaste"
	rm "$(PREFIX)/bin/tmux-run"
	rm "$(PREFIX)/bin/tmux-session"
	rm "$(PREFIX)/bin/xargs-loop"
	rm "$(PREFIX)/bin/largs"
